---
layout: post
title: Saving and loading functionality to GML Adaboost Matlab Toolbox
date: '2012-06-14T20:39:00.001+02:00'
author: kabamaru
tags:
- adaboost
- matlab
modified_time: '2013-10-16T12:35:17.809+02:00'
thumbnail: http://2.bp.blogspot.com/-VY6ZCxyL6oc/T9ouoFrPJ6I/AAAAAAAAACE/IF0mZlQzquw/s72-c/adaboost.png
blogger_id: tag:blogger.com,1999:blog-950788785801424157.post-507564966032716874
blogger_orig_url: http://blog.fotiad.is/2012/06/saving-and-loading-functionality-to-gml.html
redirect_from:
- http://blog.fotiad.is/2012/06/saving-and-loading-functionality-to-gml.html/
- http://kabamaru.blogspot.com/2012/06/saving-and-loading-functionality-to-gml.html/
---

<div dir="ltr" style="text-align: left;" trbidi="on"><table cellpadding="0" cellspacing="0" class="tr-caption-container" style="float: right; text-align: right;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-VY6ZCxyL6oc/T9ouoFrPJ6I/AAAAAAAAACE/IF0mZlQzquw/s1600/adaboost.png" imageanchor="1" style="clear: right; margin-bottom: 1em; margin-left: auto; margin-right: auto;"><img alt="" border="0" height="288" src="http://2.bp.blogspot.com/-VY6ZCxyL6oc/T9ouoFrPJ6I/AAAAAAAAACE/IF0mZlQzquw/s320/adaboost.png" title="" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">adaboost training error on INRIA pedestrian dataset</td></tr></tbody></table><a href="http://cseweb.ucsd.edu/~yfreund/adaboost/" target="_blank">Adaboost</a> is a great efficient tool. It uses plain flavor decision trees to build a stairway to classifier's heaven. I am using it for human detection, in both the laser and the camera modules and it's behaving very well.<br />Of course it can be used in conjuction with much more efficient classifiers than decision trees. So the next step is integrating SVM as a weak classiffier to replace the tree nodes currently in use. Another work in progress is to use <a href="http://www.csie.ntu.edu.tw/~cjlin/libsvmtools/eval/index.html" target="_blank">different criteria</a> for cross validation in libsvm in order to have more control over it's behaviour.<br /><br />A. Vezhnevets has developed&nbsp;<a href="http://graphics.cs.msu.ru/ru/science/research/machinelearning/adaboosttoolbox" target="_blank">GML Adaboost Toolbox for Matlab</a>. Another seemingly interesting, but not so well known, matlab adaboost toolbox was written by <a href="http://blog.cordiner.net/code/" target="_blank">Alister Cordiner.</a>&nbsp;Myself I use GML right now but I was thinking moving to Cordiner's code cause it seems easier to integrate with libsvm.<br />Anyway GML is ok for now, except it has a small problem. It can't save and load the tree node objects within matlab. To be more precise, when I am trying to load the saved learners and the corresponding weight values it gives me the following error:<br /><blockquote class="tr_bq"><blockquote class="tr_bq"><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">Warning: Element(s) of class 'tree_node_w' do not match the current constructor definition. &nbsp;The element(s) have been&nbsp;converted to structures.&nbsp;</span></blockquote></blockquote>I don't know if it's universal but this is what happens in my mac. When matlab saves an object belonging to certain class it also saves information about which class it belongs to. Then when you try to load that save file, and for every object of every class, it invokes the appropriate constructor. But in this case the constructor can't be used to load because it doesn't initialize all the properties needed. So what solves the problem is that the class needs two methods, namely&nbsp;saveobj and loadobj,&nbsp;to do the dirty job. That is converting the object to a simple structure when saving and the opposite when loading. <a href="https://www.dropbox.com/s/d6ub3teupey5ajp/tree_node_w.m" target="_blank">Here</a> is the new file. Use it to replace the original file in the @tree_node_w folder.<br /><br />What have we gained:<br /><br /><ul style="text-align: left;"><li>Some insight to the object oriented aspects of matlab</li></ul><div class="separator" style="clear: both; text-align: center;"></div></div>